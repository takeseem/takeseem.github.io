import{_ as s,c as a,a as e,o as t}from"./app-B88TDsre.js";const l={};function n(p,i){return t(),a("div",null,i[0]||(i[0]=[e(`<p>åœ¨ JavaScript ä¸­ï¼ŒPromise æ˜¯å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„é‡è¦å·¥å…·ã€‚è¦æ·±å…¥ç†è§£ Promise çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦ä» JavaScript å¼•æ“çš„æ‰§è¡Œæœºåˆ¶å…¥æ‰‹ï¼Œå°¤å…¶æ˜¯ äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰å’Œ ä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰çš„è¿ä½œæ–¹å¼ã€‚</p><h2 id="ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹"><span>ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹</span></a></h2><p>JavaScript ä¸­çš„ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸ºä¸¤ç§ä¸»è¦ç±»å‹ï¼š</p><ul><li>å®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆMacrotask Queueï¼‰ï¼šåŒ…å«å¦‚ setTimeoutã€setInterval å’Œ DOM äº‹ä»¶å¤„ç†ç­‰ä»»åŠ¡</li><li>å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆMicrotask Queueï¼‰ï¼šä¸“é—¨ç”¨äºå­˜æ”¾ Promise å›è°ƒã€MutationObserver ç­‰ä»»åŠ¡</li></ul><h2 id="äºŒã€äº‹ä»¶å¾ªç¯-event-loop" tabindex="-1"><a class="header-anchor" href="#äºŒã€äº‹ä»¶å¾ªç¯-event-loop"><span>äºŒã€äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰</span></a></h2><p>äº‹ä»¶å¾ªç¯çš„å·¥ä½œåŸç†æ˜¯ä¸æ–­æ£€æŸ¥æ‰§è¡Œæ ˆæ˜¯å¦ä¸ºç©ºï¼š</p><ul><li>å¦‚æœæ‰§è¡Œæ ˆä¸ºç©ºï¼Œé¦–å…ˆæ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¾æ¬¡æ‰§è¡Œå…¶ä¸­çš„æ‰€æœ‰å¾®ä»»åŠ¡</li><li>æ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—åï¼Œä»å®ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸€ä¸ªä»»åŠ¡æ‰§è¡Œ</li><li>é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œå½¢æˆå¾ªç¯</li></ul><h2 id="ä¸‰ã€javascript-å¼•æ“æ‰§è¡Œè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€javascript-å¼•æ“æ‰§è¡Œè¿‡ç¨‹"><span>ä¸‰ã€JavaScript å¼•æ“æ‰§è¡Œè¿‡ç¨‹</span></a></h2><p>æ‰§è¡Œè¿‡ç¨‹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>æ‰§è¡ŒåŒæ­¥ä»£ç ï¼ˆæ ˆä¸­çš„ä»»åŠ¡ï¼‰</li><li>æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡</li><li>æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡</li><li>é‡å¤æ­¥éª¤ 2 å’Œ 3</li></ol><h2 id="å››ã€ç¤ºä¾‹è§£æ" tabindex="-1"><a class="header-anchor" href="#å››ã€ç¤ºä¾‹è§£æ"><span>å››ã€ç¤ºä¾‹è§£æ</span></a></h2><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ¥ç†è§£è¾“å‡ºé¡ºåºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åŒæ­¥ä»»åŠ¡</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// setTimeout æäº¤äº†ä¸€ä¸ªå®ä»»åŠ¡åˆ°å®ä»»åŠ¡é˜Ÿåˆ—</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;2&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å®ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Promise æ·»åŠ äº†ä¸€ä¸ªå¾®ä»»åŠ¡åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;3&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å¾®ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;4&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åŒæ­¥ä»»åŠ¡</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œè¿‡ç¨‹</p><ul><li>å…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼Œè¾“å‡º 1 å’Œ 4</li><li>å› ä¸º Promise æ·»åŠ äº†å¾®ä»»åŠ¡ï¼Œæ‰€ä»¥åŒæ­¥ä»£ç æ‰§è¡Œåä¼šæ‰§è¡Œå¾®ä»»åŠ¡è¾“å‡º 3</li><li>æœ€åå†æ‰§è¡Œ setTimeout æäº¤çš„å®ä»»åŠ¡è¾“å‡º 2 æœ€ç»ˆè¾“å‡ºé¡ºåºå°†æ˜¯ï¼š1, 4, 3, 2</li></ul><h2 id="äº”ã€async-await-â€”â€”-promise-çš„è¯­æ³•ç³–" tabindex="-1"><a class="header-anchor" href="#äº”ã€async-await-â€”â€”-promise-çš„è¯­æ³•ç³–"><span>äº”ã€async/await â€”â€” Promise çš„è¯­æ³•ç³–</span></a></h2><p>async/await æ˜¯ ES2017 å¼•å…¥çš„å¤„ç† Promise çš„æ–°è¯­æ³•ï¼Œä½¿å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ï¼Œæå¤§æé«˜äº†å¯è¯»æ€§ã€‚</p><ul><li>async å‡½æ•°è¿”å›ä¸€ä¸ª Promise</li><li>await åªèƒ½åœ¨ async å‡½æ•°å†…ä½¿ç”¨ï¼Œå®ƒä¼šæš‚åœå‡½æ•°æ‰§è¡Œï¼Œç›´åˆ° Promise è§£å†³ï¼ˆFulfilled æˆ– Rejectedï¼‰ é€šè¿‡ async/awaitï¼Œä½ å¯ä»¥è½»æ¾å¤„ç†å¤æ‚çš„å¼‚æ­¥é€»è¾‘ï¼Œå†™å‡ºæ›´æ¸…æ™°çš„ä»£ç </li></ul><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“"><span>æ€»ç»“</span></a></h2><p>æŒæ¡ Promise çš„æ‰§è¡Œè¿‡ç¨‹å’Œäº‹ä»¶å¾ªç¯çš„åŸç†ï¼Œæ˜¯æé«˜ JavaScript ç¼–ç¨‹èƒ½åŠ›çš„å…³é”®ã€‚ç†è§£å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡çš„åŒºåˆ«ï¼Œæœ‰åŠ©äºä½ æ›´å¥½åœ°ç®¡ç†å¼‚æ­¥æ“ä½œï¼Œä¼˜åŒ–ä»£ç æ€§èƒ½ã€‚å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œåˆ«å¿˜äº†ç‚¹èµå’Œåˆ†äº«ï¼Œè®©æ›´å¤šäººäº†è§£ Promise çš„å¥¥ç§˜ï¼ğŸš€</p>`,20)]))}const h=s(l,[["render",n],["__file","js-promise.html.vue"]]),k=JSON.parse('{"path":"/code/fe/js-promise.html","title":"å½»åº•è§£æ Promise æ‰§è¡Œè¿‡ç¨‹ï¼šä»äº‹ä»¶å¾ªç¯åˆ° async/await è½»æ¾æŒæ¡ï¼","lang":"zh-CN","frontmatter":{"title":"å½»åº•è§£æ Promise æ‰§è¡Œè¿‡ç¨‹ï¼šä»äº‹ä»¶å¾ªç¯åˆ° async/await è½»æ¾æŒæ¡ï¼","shortTitle":"å½»åº•è§£æ Promise æ‰§è¡Œè¿‡ç¨‹","icon":"p","date":"2024-09-23T15:49:32.000Z","category":["å‰ç«¯","js"],"tag":["js","promise"],"order":40,"description":"åœ¨ JavaScript ä¸­ï¼ŒPromise æ˜¯å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„é‡è¦å·¥å…·ã€‚è¦æ·±å…¥ç†è§£ Promise çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦ä» JavaScript å¼•æ“çš„æ‰§è¡Œæœºåˆ¶å…¥æ‰‹ï¼Œå°¤å…¶æ˜¯ äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰å’Œ ä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰çš„è¿ä½œæ–¹å¼ã€‚ ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹ JavaScript ä¸­çš„ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸ºä¸¤ç§ä¸»è¦ç±»å‹ï¼š å®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆMacr...","head":[["meta",{"property":"og:url","content":"https://www.takeseem.com/code/fe/js-promise.html"}],["meta",{"property":"og:site_name","content":"å…¨çƒæŒ‡æ•°"}],["meta",{"property":"og:title","content":"å½»åº•è§£æ Promise æ‰§è¡Œè¿‡ç¨‹ï¼šä»äº‹ä»¶å¾ªç¯åˆ° async/await è½»æ¾æŒæ¡ï¼"}],["meta",{"property":"og:description","content":"åœ¨ JavaScript ä¸­ï¼ŒPromise æ˜¯å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„é‡è¦å·¥å…·ã€‚è¦æ·±å…¥ç†è§£ Promise çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦ä» JavaScript å¼•æ“çš„æ‰§è¡Œæœºåˆ¶å…¥æ‰‹ï¼Œå°¤å…¶æ˜¯ äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰å’Œ ä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰çš„è¿ä½œæ–¹å¼ã€‚ ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹ JavaScript ä¸­çš„ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸ºä¸¤ç§ä¸»è¦ç±»å‹ï¼š å®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆMacr..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-05T02:09:58.000Z"}],["meta",{"property":"article:tag","content":"js"}],["meta",{"property":"article:tag","content":"promise"}],["meta",{"property":"article:published_time","content":"2024-09-23T15:49:32.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-05T02:09:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"å½»åº•è§£æ Promise æ‰§è¡Œè¿‡ç¨‹ï¼šä»äº‹ä»¶å¾ªç¯åˆ° async/await è½»æ¾æŒæ¡ï¼\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-09-23T15:49:32.000Z\\",\\"dateModified\\":\\"2024-11-05T02:09:58.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"å…¨çƒæŒ‡æ•°\\",\\"url\\":\\"https://www.takeseem.com\\"}]}"]]},"headers":[{"level":2,"title":"ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹","slug":"ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹","link":"#ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹","children":[]},{"level":2,"title":"äºŒã€äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰","slug":"äºŒã€äº‹ä»¶å¾ªç¯-event-loop","link":"#äºŒã€äº‹ä»¶å¾ªç¯-event-loop","children":[]},{"level":2,"title":"ä¸‰ã€JavaScript å¼•æ“æ‰§è¡Œè¿‡ç¨‹","slug":"ä¸‰ã€javascript-å¼•æ“æ‰§è¡Œè¿‡ç¨‹","link":"#ä¸‰ã€javascript-å¼•æ“æ‰§è¡Œè¿‡ç¨‹","children":[]},{"level":2,"title":"å››ã€ç¤ºä¾‹è§£æ","slug":"å››ã€ç¤ºä¾‹è§£æ","link":"#å››ã€ç¤ºä¾‹è§£æ","children":[]},{"level":2,"title":"äº”ã€async/await â€”â€” Promise çš„è¯­æ³•ç³–","slug":"äº”ã€async-await-â€”â€”-promise-çš„è¯­æ³•ç³–","link":"#äº”ã€async-await-â€”â€”-promise-çš„è¯­æ³•ç³–","children":[]},{"level":2,"title":"æ€»ç»“","slug":"æ€»ç»“","link":"#æ€»ç»“","children":[]}],"git":{"createdTime":1730721795000,"updatedTime":1730772598000,"contributors":[{"name":"takeseem","email":"takeseem@gmail.com","commits":2}]},"readingTime":{"minutes":2.24,"words":672},"filePathRelative":"code/fe/js-promise.md","localizedDate":"2024å¹´9æœˆ23æ—¥","excerpt":"<p>åœ¨ JavaScript ä¸­ï¼ŒPromise æ˜¯å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„é‡è¦å·¥å…·ã€‚è¦æ·±å…¥ç†è§£ Promise çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦ä» JavaScript å¼•æ“çš„æ‰§è¡Œæœºåˆ¶å…¥æ‰‹ï¼Œå°¤å…¶æ˜¯ äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰å’Œ ä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰çš„è¿ä½œæ–¹å¼ã€‚</p>\\n<h2>ä¸€ã€ä»»åŠ¡é˜Ÿåˆ—çš„ä¸¤å¤§ç±»å‹</h2>\\n<p>JavaScript ä¸­çš„ä»»åŠ¡é˜Ÿåˆ—åˆ†ä¸ºä¸¤ç§ä¸»è¦ç±»å‹ï¼š</p>\\n<ul>\\n<li>å®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆMacrotask Queueï¼‰ï¼šåŒ…å«å¦‚ setTimeoutã€setInterval å’Œ DOM äº‹ä»¶å¤„ç†ç­‰ä»»åŠ¡</li>\\n<li>å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆMicrotask Queueï¼‰ï¼šä¸“é—¨ç”¨äºå­˜æ”¾ Promise å›è°ƒã€MutationObserver ç­‰ä»»åŠ¡</li>\\n</ul>","autoDesc":true}');export{h as comp,k as data};
