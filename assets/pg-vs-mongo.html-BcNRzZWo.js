import{_ as t,c as o,a as r,o as s}from"./app-Dv-paMaC.js";const n="/assets/all-in-pg-CD67KAMK.png",i={};function g(a,e){return s(),o("div",null,e[0]||(e[0]=[r('<p><strong>PostgreSQL 支持 json 有十多年了，我一直有一个疑问能用 PostgreSQL 代替 MongoDB 吗？</strong></p><p>通过群友挖掘到一篇文章：<a href="https://www.amazingcto.com/postgres-for-everything/" target="_blank" rel="noopener noreferrer">Just Use Postgres for Everything</a></p><figure><img src="'+n+'" alt="Just use Postgres for Everything" tabindex="0" loading="lazy"><figcaption>Just use Postgres for Everything</figcaption></figure><p>引用了一篇 2020-07-17 的文章详细介绍了 JSONB</p><p><a href="https://scalegrid.io/blog/using-jsonb-in-postgresql-how-to-effectively-store-index-json-data-in-postgresql/" target="_blank" rel="noopener noreferrer">Using JSONB in PostgreSQL®: How to Effectively Store &amp; Index JSON Data in PostgreSQL</a></p><ul><li>大多数情况使用 JSONB</li><li>使用 JSON 的场景： <ul><li>需保留原始格式</li><li>需保留重复 keys</li><li>JSON 提取速度更快（如果需进行 json 操作时 JSONB 更快）</li></ul></li><li>JSONB 缺点 <ul><li>PostgreSQL 不存储 JSONB 列的列统计信息，有时会导致错误的查询计划选择，如嵌套循环和哈希连接等</li><li>SONB 占用较大的存储空间： <ul><li>JSONB 不会对 json 的键名进行重复数据删除，占用空间比 WiredTiger 上的 MongoDB BSON 或传统列存储大得多</li><li>解决方案 <ul><li>使用短名，如：“pb” 代替 “publisherName” - 经常出现的键名提取为表的传统列字段</li></ul></li></ul></li></ul></li></ul><p>最终挖掘到一篇 2017-12-21 写的 MySQL、PostgreSQL、MongoDB json 性能对比 <a href="https://erthalion.info/2017/12/21/advanced-json-benchmarks/" target="_blank" rel="noopener noreferrer">Jsonb: few more stories about the performance （2017-12-21）</a></p><ul><li>大多数情况下可以使用数据库代替 NoSQL 数据库</li><li>TOAST TOAST_TUPLE_THRESHOLD 默认 2KB 对性能有一定影响</li><li>压缩对 cpu 也有一定影响</li></ul><p>其他参考：</p><ul><li>postgresql之物理存储结构</li><li>TOAST 数据库物理存储</li></ul><p><strong>结论：可以使用 PostgreSQL 代替 MongoDB</strong></p>',11)]))}const p=t(i,[["render",g],["__file","pg-vs-mongo.html.vue"]]),c=JSON.parse('{"path":"/code/db/pg-vs-mongo.html","title":"PostgreSQL 可以代替 MongoDB 吗？","lang":"zh-CN","frontmatter":{"title":"PostgreSQL 可以代替 MongoDB 吗？","shortTitle":"PostgreSQL vs MongoDB ?","icon":"database","date":"2024-08-26T16:42:36.000Z","category":["db"],"tag":["PostgreSQL","MongoDB"],"description":"PostgreSQL 支持 json 有十多年了，我一直有一个疑问能用 PostgreSQL 代替 MongoDB 吗？ 通过群友挖掘到一篇文章：Just Use Postgres for Everything Just use Postgres for EverythingJust use Postgres for Everything 引用了一篇 ...","head":[["meta",{"property":"og:url","content":"https://www.takeseem.com/code/db/pg-vs-mongo.html"}],["meta",{"property":"og:site_name","content":"全球指数"}],["meta",{"property":"og:title","content":"PostgreSQL 可以代替 MongoDB 吗？"}],["meta",{"property":"og:description","content":"PostgreSQL 支持 json 有十多年了，我一直有一个疑问能用 PostgreSQL 代替 MongoDB 吗？ 通过群友挖掘到一篇文章：Just Use Postgres for Everything Just use Postgres for EverythingJust use Postgres for Everything 引用了一篇 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-04T12:03:15.000Z"}],["meta",{"property":"article:tag","content":"PostgreSQL"}],["meta",{"property":"article:tag","content":"MongoDB"}],["meta",{"property":"article:published_time","content":"2024-08-26T16:42:36.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-04T12:03:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"PostgreSQL 可以代替 MongoDB 吗？\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-08-26T16:42:36.000Z\\",\\"dateModified\\":\\"2024-11-04T12:03:15.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"全球指数\\",\\"url\\":\\"https://www.takeseem.com\\"}]}"]]},"headers":[],"git":{"createdTime":1730682800000,"updatedTime":1730721795000,"contributors":[{"name":"takeseem","email":"takeseem@gmail.com","commits":2}]},"readingTime":{"minutes":1.3,"words":389},"filePathRelative":"code/db/pg-vs-mongo.md","localizedDate":"2024年8月26日","excerpt":"<p><strong>PostgreSQL 支持 json 有十多年了，我一直有一个疑问能用 PostgreSQL 代替 MongoDB 吗？</strong></p>\\n<p>通过群友挖掘到一篇文章：<a href=\\"https://www.amazingcto.com/postgres-for-everything/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Just Use Postgres for Everything</a></p>\\n<figure><figcaption>Just use Postgres for Everything</figcaption></figure>","autoDesc":true}');export{p as comp,c as data};
