(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[600],{9719:(e,t,n)=>{Promise.resolve().then(n.bind(n,6825))},6825:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var r=n(3528),l=n(9771),s=n(4691),c=n(2130),a=n(5316);function i(){let e=(0,a.useRef)(0);return(0,r.jsx)("button",{style:l.qK,onClick:()=>{console.log("clicked"),e.current+=1,alert("当前点击次数："+e.current)},children:"点击我！"})}function d(){let[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(Date.now()),c=(0,a.useRef)(null);function i(){c.current&&(clearInterval(c.current),c.current=null)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h1",{children:["秒表：",(e?(n-e)/1e3:0).toFixed(3)]}),(0,r.jsx)("button",{style:l.qK,onClick:()=>{let e=Date.now();s(e),t(e),i(),c.current=setInterval(()=>{s(Date.now())},10)},children:"开始"}),(0,r.jsx)("button",{style:l.qK,onClick:()=>{i()},children:"停止"})]})}function u(){let[e,t]=(0,a.useState)(""),[n,s]=(0,a.useState)(!1),c=(0,a.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{style:l.RH,disabled:n,value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("button",{style:l.qK,disabled:n,onClick:function(){s(!0),c.current=setTimeout(()=>{alert("已发送！"),s(!1)},3e3)},children:n?"发送中……":"发送"}),n&&(0,r.jsx)("button",{onClick:function(){s(!1),clearTimeout(c.current||void 0)},style:l.qK,children:"撤销"})]})}function o(){let[e,t]=(0,a.useState)(!1);return(0,r.jsx)("button",{style:l.qK,onClick:()=>{t(!e)},children:e?"开":"关"})}function h(e){let{onClick:t,children:n}=e,s=(0,a.useRef)(null);return(0,r.jsx)("button",{style:l.qK,onClick:()=>{clearTimeout(s.current||void 0),s.current=setTimeout(()=>{t()},1e3)},children:n})}function x(){return(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column",alignItems:"flex-start"},children:[(0,r.jsx)(h,{onClick:()=>alert("宇宙飞船已发射！"),children:"发射宇宙飞船"}),(0,r.jsx)(h,{onClick:()=>alert("汤煮好了！"),children:"煮点儿汤"}),(0,r.jsx)(h,{onClick:()=>alert("摇篮曲唱完了！"),children:"唱首摇篮曲"})]})}function j(){let[e,t]=(0,a.useState)(""),n=(0,a.useRef)(e);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{style:l.RH,value:e,onChange:e=>{t(e.target.value),n.current=e.target.value}}),(0,r.jsx)("button",{style:l.qK,onClick:function(){setTimeout(()=>{alert("正在发送："+n.current)},3e3)},children:"发送"})]})}var p=n(8965);function f(){let[e,t]=(0,a.useState)(!1),n=(0,a.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:function(){var r,l;let s=!e;t(s),console.log(new Date().toISOString(),"handleClick",s),s?null===(r=n.current)||void 0===r||r.play():null===(l=n.current)||void 0===l||l.pause()},style:l.qK,children:e?"暂停":"播放"}),(0,r.jsx)("video",{width:"250",ref:n,onPlay:()=>t(!0),onPause:()=>t(!1),children:(0,r.jsx)("source",{src:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4",type:"video/mp4"})})]})}function m(){let e=(0,a.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{children:(0,r.jsx)("button",{style:l.qK,onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.focus()},children:"搜索"})}),(0,r.jsx)("input",{style:l.RH,ref:e,placeholder:"找什么呢？"})]})}let g=[];for(let e=0;e<10;e++)g.push({id:e,imageUrl:"https://loremflickr.com/250/200/cat?lock="+e});function v(){let[e,t]=(0,a.useState)(0),n=(0,a.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{children:(0,r.jsx)("button",{style:l.qK,onClick:()=>{var r;let l=e<g.length-1?e+1:0;(0,p.flushSync)(()=>{t(l)}),null===(r=n.current)||void 0===r||r.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},children:"下一个"})}),(0,r.jsx)("div",{style:{width:"100%",overflow:"hidden"},children:(0,r.jsx)("ul",{style:{whiteSpace:"nowrap"},children:g.map((t,l)=>(0,r.jsx)("li",{ref:e==l?n:null,style:{display:"inline-block",padding:"0.5rem"},children:(0,r.jsx)("img",{style:{padding:"0.5rem",background:e===l?"#00649666":""},src:t.imageUrl,alt:"猫猫 #"+t.id})},t.id))})})]})}function y(){let e=(0,a.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{children:(0,r.jsx)(k,{onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.focus()}})}),(0,r.jsx)(b,{ref:e})]})}function k(e){let{onClick:t}=e;return(0,r.jsx)("button",{style:l.qK,onClick:t,children:"搜索"})}let b=(0,a.forwardRef)(function(e,t){return(0,r.jsx)("input",{style:l.RH,ref:t,placeholder:"找什么呢？"})});function R(){let[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)("Taylor"),[c,i]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{style:l.qK,onClick:()=>t(e=>!e),children:[e?"隐藏":"展示","表单"]}),(0,r.jsx)("br",{}),(0,r.jsx)("hr",{}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",{children:["输入你的姓名：",(0,r.jsx)(C,{value:n,onChange:e=>s(e.target.value)})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:c,onChange:e=>i(e.target.checked)}),"大写"]}),(0,r.jsxs)("p",{children:["你好， ",(0,r.jsx)("b",{children:c?n.toUpperCase():n})]})]})]})}function C(e){let{value:t,onChange:n}=e,s=(0,a.useRef)(null);return(0,a.useEffect)(()=>{var e;null===(e=s.current)||void 0===e||e.focus()},[]),(0,r.jsx)("input",{style:l.RH,ref:s,value:t,onChange:n})}function S(){let[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)("Taylor"),[c,i]=(0,a.useState)("Swift"),d=(0,a.useState)(!1),u=n+" "+c;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{style:l.qK,onClick:()=>t(e=>!e),children:[e?"隐藏":"展示","表单"]}),(0,r.jsx)("br",{}),(0,r.jsx)("hr",{}),e&&(0,r.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column"},children:[(0,r.jsxs)("label",{children:["输入你的名：",(0,r.jsx)(w,{value:n,onChange:e=>s(e.target.value),shouldFocus:!0})]}),(0,r.jsxs)("label",{children:["输入你的姓：",(0,r.jsx)(w,{value:c,onChange:e=>i(e.target.value),shouldFocus:!1})]}),(0,r.jsxs)("p",{children:["你好，",(0,r.jsx)("b",{children:d?u.toUpperCase():u})]})]})]})}function w(e){let{shouldFocus:t,value:n,onChange:s}=e,c=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(t){var e;null===(e=c.current)||void 0===e||e.focus()}},[t]),(0,r.jsx)("input",{style:l.RH,ref:c,value:n,onChange:s})}function F(){let[e,t]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{style:l.qK,onClick:()=>t(e=>!e),children:[e?"隐藏":"展示","计数器"]}),(0,r.jsx)("br",{}),(0,r.jsx)("hr",{}),e&&(0,r.jsx)(K,{})]})}function K(){let[e,t]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let e=setInterval(function(){t(e=>e+1)},1e3);return()=>clearInterval(e)},[]),(0,r.jsx)("h1",{children:e})}function _(){let[e,t]=(0,a.useState)("Alice"),[n,s]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let t=!1;return s(null),(function(e){let t="Bob"===e?2e3:200;return new Promise(n=>{setTimeout(()=>{n("这是"+e+"的传记。")},t)})})(e).then(e=>{t||s(e)}),()=>{t=!0}},[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("select",{style:l.RH,value:e,onChange:e=>{t(e.target.value)},children:[(0,r.jsx)("option",{value:"Alice",children:"Alice"}),(0,r.jsx)("option",{value:"Bob",children:"Bob"}),(0,r.jsx)("option",{value:"Taylor",children:"Taylor"})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("p",{children:(0,r.jsx)("i",{children:null!=n?n:"加载中……"})})]})}function q(){return(0,r.jsxs)("main",{children:[(0,r.jsx)(c.J,{project:s.Ff}),(0,r.jsxs)("div",{children:[(0,r.jsx)("hr",{style:{margin:"1rem 0"}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{style:l.X_,children:"使用 ref 引用值"}),(0,r.jsx)("p",{children:(0,r.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/referencing-values-with-refs",children:"官方文档"})}),(0,r.jsx)("p",{children:"使用 useRef 存储点击次数：let ref = useRef(0);"}),(0,r.jsx)(i,{}),(0,r.jsx)("p",{children:"使用 useRef 存储 intervalId：const intervalRef = useRef<NodeJS.Timeout | null>(null);"}),(0,r.jsx)(d,{}),(0,r.jsx)("p",{children:"挑战: 修复坏掉的聊天输入框"}),(0,r.jsx)(u,{}),(0,r.jsx)("p",{children:"挑战: 修复无法重新渲染的组件"}),(0,r.jsx)(o,{}),(0,r.jsx)("p",{children:"挑战: 修复防抖"}),(0,r.jsx)(x,{}),(0,r.jsx)("p",{children:"挑战: 读取最新的 state"}),(0,r.jsx)(j,{})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("hr",{style:{margin:"1rem 0"}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{style:l.X_,children:"使用 ref 操作 DOM"}),(0,r.jsx)("p",{children:(0,r.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/manipulating-the-dom-with-refs#challenges",children:"尝试一些挑战"})}),(0,r.jsx)("p",{children:"第 1 个挑战 共 4 个挑战: 播放和暂停视频 "}),(0,r.jsx)(f,{}),(0,r.jsx)("p",{children:"第 2 个挑战 共 4 个挑战: 使搜索域获得焦点"}),(0,r.jsx)(m,{}),(0,r.jsx)("p",{children:"第 3 个挑战 共 4 个挑战: 滚动图像轮播"}),(0,r.jsx)(v,{}),(0,r.jsx)("p",{children:"第 4 个挑战 共 4 个挑战: 使分开的组件中的搜索域获得焦点"}),(0,r.jsx)(y,{})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("hr",{style:{margin:"1rem 0"}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{style:l.X_,children:"使用 Effect 进行同步"}),(0,r.jsx)("p",{children:(0,r.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/synchronizing-with-effects#challenges",children:"尝试一些挑战"})}),(0,r.jsx)("p",{children:"第 1 个挑战 共 4 个挑战: 挂载后聚焦于表单字段"}),(0,r.jsx)(R,{}),(0,r.jsx)("p",{children:"第 2 个挑战 共 4 个挑战: 有条件地聚焦于表单字段"}),(0,r.jsx)(S,{}),(0,r.jsx)("p",{children:"第 3 个挑战 共 4 个挑战: 修复会触发两次的定时器"}),(0,r.jsx)(F,{}),(0,r.jsx)("p",{children:"第 4 个挑战 共 4 个挑战: 解决在 Effect 中获取数据的问题"}),(0,r.jsx)(_,{})]})]})]})}(0,a.forwardRef)((e,t)=>(0,r.jsx)("input",{style:l.RH,placeholder:"找什么呢？",ref:t})).displayName="SearchInput2"},9771:(e,t,n)=>{"use strict";n.d(t,{RH:()=>s,X_:()=>r,qK:()=>l});let r={fontSize:"1.5rem",fontWeight:"bold"},l={border:"1px solid gray",borderRadius:"0.5rem",padding:"0.5rem"},s={backgroundColor:"gray"}},4691:(e,t,n)=>{"use strict";n.d(t,{DE:()=>i,Ff:()=>f,Jf:()=>d,Mv:()=>o,RJ:()=>h,RK:()=>x,dt:()=>m,dv:()=>c,m7:()=>a,r7:()=>p,rF:()=>u,zw:()=>j});var r=n(8756),l=n(7318);let s="https://www.takeseem.com",c="https://github.com/takeseem/demo-react",a=c+"/tree/main",i=c+"/commits/main",d=c+"/blame/main",u={id:"game-ttt",name:"井字棋游戏",desc:"本项目来自于 React 官方快速入门教程：井字棋游戏。本教程将引导你逐步实现一个简单的井字棋游戏，并且不需要你对 React 有任何了解。在此过程中你会学习到一些编写 React 程序的基本知识，完全理解它们可以让你对 React 有比较深入的理解。",href:"/demo/game-ttt",icon:r.CYF,pagePath:"/app/demo/game-ttt/page.tsx",link:"https://zh-hans.react.dev/learn/tutorial-tic-tac-toe"},o={id:"react-think",name:"React 哲学",desc:"本项目来自于 React 官方文档：React 哲学。",href:"/demo/react-think",icon:r.GQu,pagePath:"/app/demo/react-think/page.tsx",link:"".concat(s,"/code/fe/react/react-think.html")},h={id:"react-typescript",name:"使用 TypeScript",desc:"TypeScript 是一种向 JavaScript 代码添加类型定义的常用方法，天然支持 JSX。",href:"/demo/react-typescript",icon:r.COT,pagePath:"/app/demo/react-typescript/page.tsx",link:"https://zh-hans.react.dev/learn/typescript"},x={id:"react-jsx",name:"描述 UI",desc:"React 是一个用于构建用户界面（UI）的 JavaScript 库，用户界面由按钮、文本和图像等小单元内容构建而成。React 帮助你把它们组合成可重用、可嵌套的 组件。从 web 端网站到移动端应用，屏幕上的所有内容都可以被分解成组件。在本章节中，你将学习如何创建、定制以及有条件地显示 React 组件。",href:"/demo/react-jsx",icon:l.wgI,pagePath:"/app/demo/react-jsx/page.tsx",link:"".concat(s,"/code/fe/react/react-learn-01-ui.html")},j={id:"react-add-inter",name:"React 交互",desc:"界面上的控件会根据用户的输入而更新。例如，点击按钮切换轮播图的展示。在 React 中，随时间变化的数据被称为状态（state）。你可以向任何组件添加状态，并按需进行更新。在本章节中，你将学习如何编写处理交互的组件，更新它们的状态，并根据时间变化显示不同的效果。",href:"/demo/react-add-inter",icon:r.Z8x,pagePath:"/app/demo/react-add-inter/page.tsx",link:"".concat(s,"/code/fe/react/react-learn-02-add-inter.html")},p={id:"react-state",name:"React 状态管理",desc:"随着你的应用不断变大，更有意识的去关注应用状态如何组织，以及数据如何在组件之间流动会对你很有帮助。冗余或重复的状态往往是缺陷的根源。在本节中，你将学习如何组织好状态，如何保持状态更新逻辑的可维护性，以及如何跨组件共享状态。",href:"/demo/react-state",icon:r.H37,pagePath:"/app/demo/react-state/page.tsx",link:"".concat(s,"/code/fe/react/react-learn-03-state.html")},f={id:"react-escape",name:"React 脱围机制",desc:"Escape Hatches：有些组件可能需要控制和同步 React 之外的系统。例如，你可能需要使用浏览器 API 聚焦输入框，或者在没有 React 的情况下实现视频播放器，或者连接并监听远程服务器的消息。在本章中，你将学习到一些脱围机制，让你可以“走出” React 并连接到外部系统。大多数应用逻辑和数据流不应该依赖这些功能。",href:"/demo/react-escape",icon:r.H37,pagePath:"/app/demo/react-escape/page.tsx",link:"".concat(s,"/code/fe/react/react-learn-04-escape.html")},m=[u,o,h,x,j,p,f]},2130:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var r=n(3528),l=n(4691),s=n(7318),c=n(8756),a=n(8239),i=n(7369);function d(e){let{project:t}=e;return(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)(i.default,{href:t.link,target:"_blank",children:[(0,r.jsx)(a.g,{icon:t.icon,className:"rotate-[15deg]"})," ",t.name]}),(0,r.jsx)("div",{className:"p-4 max-w-md",children:t.desc}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{children:(0,r.jsxs)(i.default,{href:l.m7+t.pagePath,target:"_blank",children:[(0,r.jsx)(a.g,{icon:s.Vz1})," ","源码：",(0,r.jsx)("code",{children:t.pagePath})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(i.default,{href:l.Jf+t.pagePath,target:"_blank",children:[(0,r.jsx)(a.g,{icon:s.FyU})," ","Blame"]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(i.default,{href:l.DE+t.pagePath,target:"_blank",children:[(0,r.jsx)(a.g,{icon:c.Yj9})," ","提交记录"]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[263,203,208,27,465,743,358],()=>t(9719)),_N_E=e.O()}]);