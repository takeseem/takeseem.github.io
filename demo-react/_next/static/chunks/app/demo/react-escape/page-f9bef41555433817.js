(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[600],{9719:(e,t,n)=>{Promise.resolve().then(n.bind(n,6113))},6113:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>en});var l=n(3528),s=n(9771),r=n(4691),i=n(2130),c=n(5316);function a(){let e=(0,c.useRef)(0);return(0,l.jsx)("button",{style:s.qK,onClick:()=>{console.log("clicked"),e.current+=1,alert("当前点击次数："+e.current)},children:"点击我！"})}function d(){let[e,t]=(0,c.useState)(null),[n,r]=(0,c.useState)(Date.now()),i=(0,c.useRef)(null);function a(){i.current&&(clearInterval(i.current),i.current=null)}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h1",{children:["秒表：",(e?(n-e)/1e3:0).toFixed(3)]}),(0,l.jsx)("button",{style:s.qK,onClick:()=>{let e=Date.now();r(e),t(e),a(),i.current=setInterval(()=>{r(Date.now())},10)},children:"开始"}),(0,l.jsx)("button",{style:s.qK,onClick:()=>{a()},children:"停止"})]})}function o(){let[e,t]=(0,c.useState)(""),[n,r]=(0,c.useState)(!1),i=(0,c.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{style:s.RH,disabled:n,value:e,onChange:e=>t(e.target.value)}),(0,l.jsx)("button",{style:s.qK,disabled:n,onClick:function(){r(!0),i.current=setTimeout(()=>{alert("已发送！"),r(!1)},3e3)},children:n?"发送中……":"发送"}),n&&(0,l.jsx)("button",{onClick:function(){r(!1),clearTimeout(i.current||void 0)},style:s.qK,children:"撤销"})]})}function u(){let[e,t]=(0,c.useState)(!1);return(0,l.jsx)("button",{style:s.qK,onClick:()=>{t(!e)},children:e?"开":"关"})}function h(e){let{onClick:t,children:n}=e,r=(0,c.useRef)(null);return(0,l.jsx)("button",{style:s.qK,onClick:()=>{clearTimeout(r.current||void 0),r.current=setTimeout(()=>{t()},1e3)},children:n})}function x(){return(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column",alignItems:"flex-start"},children:[(0,l.jsx)(h,{onClick:()=>alert("宇宙飞船已发射！"),children:"发射宇宙飞船"}),(0,l.jsx)(h,{onClick:()=>alert("汤煮好了！"),children:"煮点儿汤"}),(0,l.jsx)(h,{onClick:()=>alert("摇篮曲唱完了！"),children:"唱首摇篮曲"})]})}function j(){let[e,t]=(0,c.useState)(""),n=(0,c.useRef)(e);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{style:s.RH,value:e,onChange:e=>{t(e.target.value),n.current=e.target.value}}),(0,l.jsx)("button",{style:s.qK,onClick:function(){setTimeout(()=>{alert("正在发送："+n.current)},3e3)},children:"发送"})]})}var f=n(8965);function p(){let[e,t]=(0,c.useState)(!1),n=(0,c.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:function(){var l,s;let r=!e;t(r),console.log(new Date().toISOString(),"handleClick",r),r?null===(l=n.current)||void 0===l||l.play():null===(s=n.current)||void 0===s||s.pause()},style:s.qK,children:e?"暂停":"播放"}),(0,l.jsx)("video",{width:"250",ref:n,onPlay:()=>t(!0),onPause:()=>t(!1),children:(0,l.jsx)("source",{src:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4",type:"video/mp4"})})]})}function m(){let e=(0,c.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("nav",{children:(0,l.jsx)("button",{style:s.qK,onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.focus()},children:"搜索"})}),(0,l.jsx)("input",{style:s.RH,ref:e,placeholder:"找什么呢？"})]})}let g=[];for(let e=0;e<10;e++)g.push({id:e,imageUrl:"https://loremflickr.com/250/200/cat?lock="+e});function v(){let[e,t]=(0,c.useState)(0),n=(0,c.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("nav",{children:(0,l.jsx)("button",{style:s.qK,onClick:()=>{var l;let s=e<g.length-1?e+1:0;(0,f.flushSync)(()=>{t(s)}),null===(l=n.current)||void 0===l||l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},children:"下一个"})}),(0,l.jsx)("div",{style:{width:"100%",overflow:"hidden"},children:(0,l.jsx)("ul",{style:{whiteSpace:"nowrap"},children:g.map((t,s)=>(0,l.jsx)("li",{ref:e==s?n:null,style:{display:"inline-block",padding:"0.5rem"},children:(0,l.jsx)("img",{style:{padding:"0.5rem",background:e===s?"#00649666":""},src:t.imageUrl,alt:"猫猫 #"+t.id})},t.id))})})]})}function y(){let e=(0,c.useRef)(null);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("nav",{children:(0,l.jsx)(b,{onClick:()=>{var t;return null===(t=e.current)||void 0===t?void 0:t.focus()}})}),(0,l.jsx)(k,{ref:e})]})}function b(e){let{onClick:t}=e;return(0,l.jsx)("button",{style:s.qK,onClick:t,children:"搜索"})}let k=(0,c.forwardRef)(function(e,t){return(0,l.jsx)("input",{style:s.RH,ref:t,placeholder:"找什么呢？"})});function C(){let[e,t]=(0,c.useState)(!1),[n,r]=(0,c.useState)("Taylor"),[i,a]=(0,c.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{style:s.qK,onClick:()=>t(e=>!e),children:[e?"隐藏":"展示","表单"]}),(0,l.jsx)("br",{}),(0,l.jsx)("hr",{}),e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{children:["输入你的姓名：",(0,l.jsx)(S,{value:n,onChange:e=>r(e.target.value)})]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:i,onChange:e=>a(e.target.checked)}),"大写"]}),(0,l.jsxs)("p",{children:["你好， ",(0,l.jsx)("b",{children:i?n.toUpperCase():n})]})]})]})}function S(e){let{value:t,onChange:n}=e,r=(0,c.useRef)(null);return(0,c.useEffect)(()=>{var e;null===(e=r.current)||void 0===e||e.focus()},[]),(0,l.jsx)("input",{style:s.RH,ref:r,value:t,onChange:n})}function R(){let[e,t]=(0,c.useState)(!1),[n,r]=(0,c.useState)("Taylor"),[i,a]=(0,c.useState)("Swift"),d=(0,c.useState)(!1),o=n+" "+i;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{style:s.qK,onClick:()=>t(e=>!e),children:[e?"隐藏":"展示","表单"]}),(0,l.jsx)("br",{}),(0,l.jsx)("hr",{}),e&&(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column"},children:[(0,l.jsxs)("label",{children:["输入你的名：",(0,l.jsx)(w,{value:n,onChange:e=>r(e.target.value),shouldFocus:!0})]}),(0,l.jsxs)("label",{children:["输入你的姓：",(0,l.jsx)(w,{value:i,onChange:e=>a(e.target.value),shouldFocus:!1})]}),(0,l.jsxs)("p",{children:["你好，",(0,l.jsx)("b",{children:d?o.toUpperCase():o})]})]})]})}function w(e){let{shouldFocus:t,value:n,onChange:r}=e,i=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(t){var e;null===(e=i.current)||void 0===e||e.focus()}},[t]),(0,l.jsx)("input",{style:s.RH,ref:i,value:n,onChange:r})}function E(){let[e,t]=(0,c.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{style:s.qK,onClick:()=>t(e=>!e),children:[e?"隐藏":"展示","计数器"]}),(0,l.jsx)("br",{}),(0,l.jsx)("hr",{}),e&&(0,l.jsx)(K,{})]})}function K(){let[e,t]=(0,c.useState)(0);return(0,c.useEffect)(()=>{let e=setInterval(function(){t(e=>e+1)},1e3);return()=>clearInterval(e)},[]),(0,l.jsx)("h1",{children:e})}function q(){let[e,t]=(0,c.useState)("Alice"),[n,r]=(0,c.useState)(null);return(0,c.useEffect)(()=>{let t=!1;return r(null),(function(e){let t="Bob"===e?2e3:200;return new Promise(n=>{setTimeout(()=>{n("这是"+e+"的传记。")},t)})})(e).then(e=>{t||r(e)}),()=>{t=!0}},[e]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("select",{style:s.RH,value:e,onChange:e=>{t(e.target.value)},children:[(0,l.jsx)("option",{value:"Alice",children:"Alice"}),(0,l.jsx)("option",{value:"Bob",children:"Bob"}),(0,l.jsx)("option",{value:"Taylor",children:"Taylor"})]}),(0,l.jsx)("hr",{}),(0,l.jsx)("p",{children:(0,l.jsx)("i",{children:null!=n?n:"加载中……"})})]})}(0,c.forwardRef)((e,t)=>(0,l.jsx)("input",{style:s.RH,placeholder:"找什么呢？",ref:t})).displayName="SearchInput2";let I=0;function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{id:I++,text:e,completed:t}}let _=[F("买苹果",!0),F("买橘子",!0),F("买胡萝卜")];function H(){let[e,t]=(0,c.useState)(_),[n,s]=(0,c.useState)(!1),r=e.filter(e=>!e.completed),i=n?r:e;return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"flex-start",padding:"0.5rem"},children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:n,onChange:e=>s(e.target.checked)}),"只显示未完成的事项"]}),(0,l.jsx)(P,{onAdd:n=>t([...e,n])}),(0,l.jsx)("ul",{children:i.map(e=>(0,l.jsx)("li",{children:e.completed?(0,l.jsx)("s",{children:e.text}):e.text},e.id))}),(0,l.jsxs)("footer",{children:[r.length," 项待办"]})]})}function P(e){let{onAdd:t}=e,[n,r]=(0,c.useState)("");return(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{style:s.RH,value:n,onChange:e=>r(e.target.value)}),(0,l.jsx)("button",{style:s.qK,onClick:function(){r(""),t(F(n))},children:"添加"})]})}let D=0;function T(){let[e,t]=(0,c.useState)(_),[n,r]=(0,c.useState)(!1),[i,a]=(0,c.useState)(""),d=(0,c.useMemo)(()=>(function(e,t){console.log("getVisibleTodos() 被调用了 ".concat(++D," 次"));let n=e.filter(e=>!e.completed);return t?n:e})(e,n),[e,n]);return(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"flex-start",padding:"0.5rem"},children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:n,onChange:e=>r(e.target.checked)}),"只显示未完成的事项"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{style:s.RH,value:i,onChange:e=>a(e.target.value)}),(0,l.jsx)("button",{style:s.qK,onClick:function(){a(""),t([...e,F(i)])},children:"添加"})]}),(0,l.jsx)("ul",{children:d.map(e=>(0,l.jsx)("li",{children:e.completed?(0,l.jsx)("s",{children:e.text}):e.text},e.id))})]})}let z=[{id:0,name:"Taylor",email:"taylor@mail.com"},{id:1,name:"Alice",email:"alice@mail.com"},{id:2,name:"Bob",email:"bob@mail.com"}];function X(){let[e,t]=(0,c.useState)(z),[n,s]=(0,c.useState)(0),r=e.find(e=>e.id===n);return(0,l.jsxs)("div",{children:[(0,l.jsx)(U,{contacts:e,selectedId:n,onSelect:e=>s(e)}),(0,l.jsx)("hr",{style:{margin:"0.5rem 0",width:"18rem"}}),(0,l.jsx)(J,{savedContact:r,onSave:function(n){t(e.map(e=>e.id===n.id?n:e))}},null==r?void 0:r.id)]})}function J(e){let{savedContact:t,onSave:n}=e,[r,i]=(0,c.useState)(t.name),[a,d]=(0,c.useState)(t.email);return(0,l.jsxs)("section",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",padding:"0.5rem"},children:[(0,l.jsxs)("label",{children:["姓名："," ",(0,l.jsx)("input",{style:s.RH,type:"text",value:r,onChange:e=>i(e.target.value)})]}),(0,l.jsxs)("label",{children:["邮箱："," ",(0,l.jsx)("input",{style:s.RH,type:"email",value:a,onChange:e=>d(e.target.value)})]}),(0,l.jsxs)("section",{children:[(0,l.jsx)("button",{onClick:()=>{n({id:t.id,name:r,email:a})},style:s.qK,children:"保存"}),(0,l.jsx)("button",{onClick:()=>{i(t.name),d(t.email)},style:s.qK,children:"重置"})]})]})}function U(e){let{contacts:t,selectedId:n,onSelect:r}=e;return(0,l.jsx)("section",{children:(0,l.jsx)("ul",{style:{display:"flex",gap:"0.5rem"},children:t.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:()=>{r(e.id)},style:s.qK,children:e.id===n?(0,l.jsx)("b",{children:e.name}):e.name})},e.id))})})}function N(){let[e,t]=(0,c.useState)(!1),[n,r]=(0,c.useState)("");return e?(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("发送的消息："+n),t(!1)},style:{display:"flex",flexDirection:"column",gap:"0.5rem",padding:"0.5rem",alignItems:"flex-start"},children:[(0,l.jsx)("textarea",{style:s.RH,placeholder:"消息",value:n,onChange:e=>r(e.target.value)}),(0,l.jsx)("button",{type:"submit",disabled:""===n,style:s.qK,children:"发送"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h1",{children:"谢谢使用我们的服务！"}),(0,l.jsx)("button",{onClick:()=>{r(""),t(!0)},style:s.qK,children:"打开聊天"})]})}function O(e){let{roomId:t}=e,[n,r]=(0,c.useState)("");return(0,c.useEffect)(()=>{var e;let n=(e="https://localhost:1234",{connect(){console.log('✅ 建立连接 "'+t+'" 聊天室位于 '+e+"...")},disconnect(){console.log('❌ 断开连接 "'+t+'" 聊天室位于 '+e)}});return n.connect(),()=>n.disconnect()},[t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h1",{children:["欢迎来到 ",t," 聊天室！"]}),(0,l.jsx)("input",{style:s.RH,value:n,onChange:e=>r(e.target.value)})]})}function A(){let[e,t]=(0,c.useState)("general");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{children:["选择聊天室："," ",(0,l.jsxs)("select",{style:s.RH,value:e,onChange:e=>t(e.target.value),children:[(0,l.jsx)("option",{value:"general",children:"所有"}),(0,l.jsx)("option",{value:"travel",children:"旅游"}),(0,l.jsx)("option",{value:"music",children:"音乐"})]})]}),(0,l.jsx)("hr",{style:{width:"16rem"}}),(0,l.jsx)(O,{roomId:e})]})}function L(){let[e,t]=(0,c.useState)({x:0,y:0}),[n,s]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{if(n)return window.addEventListener("pointermove",e),()=>window.removeEventListener("pointermove",e);function e(e){t({x:e.clientX,y:e.clientY})}},[n]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:n,onChange:e=>s(e.target.checked)}),"是否允许移动"]}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{style:{position:"absolute",backgroundColor:"pink",borderRadius:"50%",opacity:.6,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)"),pointerEvents:"none",left:-20,top:-20,width:40,height:40}})]})}function B(){let[e,t]=(0,c.useState)({x:0,y:0}),[n,s]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{function e(e){n&&t({x:e.clientX,y:e.clientY})}return window.addEventListener("pointermove",e),()=>window.removeEventListener("pointermove",e)},[n]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:n,onChange:e=>s(e.target.checked)}),"是否允许移动"]}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{style:{position:"absolute",backgroundColor:"pink",borderRadius:"50%",opacity:.6,transform:"translate(".concat(e.x,"px, ").concat(e.y,"px)"),pointerEvents:"none",left:-20,top:-20,width:40,height:40}})]})}function Y(){let[e,t]=(0,c.useState)("general"),[n,r]=(0,c.useState)(!1);return(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column",alignItems:"flex-start",padding:"0.5rem"},children:[(0,l.jsxs)("label",{children:["选择聊天室："," ",(0,l.jsxs)("select",{style:s.RH,value:e,onChange:e=>t(e.target.value),children:[(0,l.jsx)("option",{value:"general",children:"所有"}),(0,l.jsx)("option",{value:"travel",children:"旅游"}),(0,l.jsx)("option",{value:"music",children:"音乐"})]})]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:n,onChange:e=>r(e.target.checked)}),"启用加密"]}),(0,l.jsx)("hr",{style:{width:"16rem"}}),(0,l.jsx)(W,{roomId:e,createConnection:n?M:V})]})}function M(e){return{connect(){console.log('✅ \uD83D\uDD10 建立连接 "'+e+"... (加密)")},disconnect(){console.log('❌ \uD83D\uDD10 断开连接 "'+e+'" room (加密)')}}}function V(e){return{connect(){console.log('✅ 建立连接 "'+e+"... (未加密)")},disconnect(){console.log('❌ 断开连接 "'+e+'" room (未加密)')}}}function W(e){let{roomId:t,createConnection:n}=e;return(0,c.useEffect)(()=>{let e=n(t);return e.connect(),()=>e.disconnect()},[t,n]),(0,l.jsxs)("h1",{children:["欢迎来到 ",t," 聊天室！"]})}function G(){let[e,t]=(0,c.useState)([]),[n,r]=(0,c.useState)(""),[i,a]=(0,c.useState)([]),[d,o]=(0,c.useState)("");function u(e){a(e),o(e.length>0?e[0].id:"")}return(0,c.useEffect)(()=>{let e=!1;return(function(e){if("/planets"===e)return Q();if(e.startsWith("/planets/")){let t=e.match(/^\/planets\/([\w-]+)\/places(\/)?$/);if(!t||!t[1]||!t[1].length)throw Error('预期的 URL，如“/planets/earth/places”。 已收到："'+e+'"。');return Z(t[1])}throw Error('预期的 URL，如“/planets”或“/planets/earth/places”。已收到："'+e+'"。')})("/planets").then(n=>{e||(console.log("获取了一个行星列表。"),t(n),r(n[0].id))}),()=>{e=!0}},[]),(0,c.useEffect)(()=>{if(""===n){console.log(new Date().toISOString(),"没有选择行星: plantId==",n);return}u([]);let e=!1;return Z(n).then(t=>{e||(console.log(new Date().toISOString(),"获取行星的地点"),u(t))}),()=>{e=!0}},[n]),(0,l.jsxs)("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column",padding:"0.5rem"},children:[(0,l.jsxs)("label",{children:["选择一个行星："," ",(0,l.jsx)("select",{style:s.RH,value:n,onChange:e=>{r(e.target.value)},children:null==e?void 0:e.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,l.jsxs)("label",{children:["选择一个地点："," ",(0,l.jsx)("select",{style:s.RH,value:d,onChange:e=>{o(e.target.value)},children:null==i?void 0:i.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,l.jsx)("hr",{style:{width:"16rem"}}),(0,l.jsxs)("p",{children:["你将要前往：",n||"..."," 的 ",d||"..."," "]})]})}async function Q(){return new Promise(e=>{setTimeout(()=>{e([{id:"earth",name:"地球"},{id:"venus",name:"金星"},{id:"mars",name:"火星"}])},1e3)})}async function Z(e){if("string"!=typeof e)throw Error("fetchPlaces(planetId) 需要一个字符串参数。而是收到："+e+"。");return new Promise(t=>{setTimeout(()=>{if("earth"===e)t([{id:"laos",name:"老挝"},{id:"spain",name:"西班牙"},{id:"vietnam",name:"越南"}]);else if("venus"===e)t([{id:"aurelia",name:"奥雷利亚"},{id:"diana-chasma",name:"戴安娜哈斯玛"},{id:"kumsong-vallis",name:"Kŭmsŏng山谷"}]);else if("mars"===e)t([{id:"aluminum-city",name:"铝城"},{id:"new-new-york",name:"纽纽约"},{id:"vishniac",name:"毗湿奴"}]);else throw Error("未知的行星编号："+e)},1e3)})}function $(){let[e,t]=(0,c.useState)(0),[n,r]=(0,c.useState)(1);return(0,c.useEffect)(()=>{let e=setInterval(()=>{t(e=>e+n)},1e3);return()=>{clearInterval(e)}},[n]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h1",{children:["Counter: ",e," ",(0,l.jsx)("button",{onClick:()=>t(0),style:s.qK,children:"Reset"})]}),(0,l.jsx)("hr",{style:{width:"20rem"}}),(0,l.jsxs)("p",{children:["Every second, increment by:"," ",(0,l.jsx)("button",{disabled:0===n,onClick:()=>{r(e=>e-1)},style:s.qK,children:"–"})," ",(0,l.jsx)("b",{children:n})," ",(0,l.jsx)("button",{onClick:()=>{r(e=>e+1)},style:s.qK,children:"+"})]})]})}function ee(){let[e,t]=(0,c.useState)(0),[n,r]=(0,c.useState)(1),i=(0,c.useRef)(n);return(0,c.useEffect)(()=>{i.current=n},[n]),(0,c.useEffect)(()=>{let e=setInterval(()=>{t(e=>e+i.current)},1e3);return()=>{clearInterval(e)}},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h1",{children:["Counter: ",e," ",(0,l.jsx)("button",{onClick:()=>t(0),style:s.qK,children:"Reset"})]}),(0,l.jsx)("hr",{style:{width:"20rem"}}),(0,l.jsxs)("p",{children:["Every second, increment by:"," ",(0,l.jsx)("button",{disabled:0===n,onClick:()=>{r(e=>e-1)},style:s.qK,children:"–"})," ",(0,l.jsx)("b",{children:n})," ",(0,l.jsx)("button",{onClick:()=>{r(e=>e+1)},style:s.qK,children:"+"})]})]})}function et(){let[e,t]=(0,c.useState)(0),[n,r]=(0,c.useState)(1),[i,a]=(0,c.useState)(100),d=(0,c.useRef)(n);return(0,c.useEffect)(()=>{d.current=n},[n]),(0,c.useEffect)(()=>{let e=setInterval(()=>{t(e=>e+d.current)},i);return()=>{clearInterval(e)}},[i]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("h1",{children:["Counter: ",e,(0,l.jsx)("button",{onClick:()=>t(0),style:s.qK,children:"Reset"})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("p",{children:["Increment by:",(0,l.jsx)("button",{disabled:0===n,onClick:()=>{r(e=>e-1)},style:s.qK,children:"–"}),(0,l.jsx)("b",{children:n}),(0,l.jsx)("button",{onClick:()=>{r(e=>e+1)},style:s.qK,children:"+"})]}),(0,l.jsxs)("p",{children:["Increment delay:",(0,l.jsx)("button",{disabled:100===i,onClick:()=>{a(e=>e-100)},style:s.qK,children:"–100 ms"}),(0,l.jsxs)("b",{children:[i," ms"]}),(0,l.jsx)("button",{onClick:()=>{a(e=>e+100)},style:s.qK,children:"+100 ms"})]})]})}function en(){return(0,l.jsxs)("main",{children:[(0,l.jsx)(i.J,{project:r.Ff}),(0,l.jsxs)("div",{children:[(0,l.jsx)("hr",{style:{margin:"1rem 0"}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{style:s.X_,children:"使用 ref 引用值"}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/referencing-values-with-refs",children:"官方文档"})}),(0,l.jsx)("p",{children:"使用 useRef 存储点击次数：let ref = useRef(0);"}),(0,l.jsx)(a,{}),(0,l.jsx)("p",{children:"使用 useRef 存储 intervalId：const intervalRef = useRef<NodeJS.Timeout | null>(null);"}),(0,l.jsx)(d,{}),(0,l.jsx)("p",{children:"挑战: 修复坏掉的聊天输入框"}),(0,l.jsx)(o,{}),(0,l.jsx)("p",{children:"挑战: 修复无法重新渲染的组件"}),(0,l.jsx)(u,{}),(0,l.jsx)("p",{children:"挑战: 修复防抖"}),(0,l.jsx)(x,{}),(0,l.jsx)("p",{children:"挑战: 读取最新的 state"}),(0,l.jsx)(j,{})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("hr",{style:{margin:"1rem 0"}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{style:s.X_,children:"使用 ref 操作 DOM"}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/manipulating-the-dom-with-refs#challenges",children:"尝试一些挑战"})}),(0,l.jsx)("p",{children:"第 1 个挑战 共 4 个挑战: 播放和暂停视频 "}),(0,l.jsx)(p,{}),(0,l.jsx)("p",{children:"第 2 个挑战 共 4 个挑战: 使搜索域获得焦点"}),(0,l.jsx)(m,{}),(0,l.jsx)("p",{children:"第 3 个挑战 共 4 个挑战: 滚动图像轮播"}),(0,l.jsx)(v,{}),(0,l.jsx)("p",{children:"第 4 个挑战 共 4 个挑战: 使分开的组件中的搜索域获得焦点"}),(0,l.jsx)(y,{})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("hr",{style:{margin:"1rem 0"}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{style:s.X_,children:"使用 Effect 进行同步"}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/synchronizing-with-effects#challenges",children:"尝试一些挑战"})}),(0,l.jsx)("p",{children:"第 1 个挑战 共 4 个挑战: 挂载后聚焦于表单字段"}),(0,l.jsx)(C,{}),(0,l.jsx)("p",{children:"第 2 个挑战 共 4 个挑战: 有条件地聚焦于表单字段"}),(0,l.jsx)(R,{}),(0,l.jsx)("p",{children:"第 3 个挑战 共 4 个挑战: 修复会触发两次的定时器"}),(0,l.jsx)(E,{}),(0,l.jsx)("p",{children:"第 4 个挑战 共 4 个挑战: 解决在 Effect 中获取数据的问题"}),(0,l.jsx)(q,{})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("hr",{style:{margin:"1rem 0"}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{style:s.X_,children:"你可能不需要 Effect"}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/you-might-not-need-an-effect#challenges",children:"尝试一些挑战"})}),(0,l.jsx)("p",{children:"第 1 个挑战 共 4 个挑战: 不用 Effect 转换数据"}),(0,l.jsx)(H,{}),(0,l.jsx)("p",{children:"第 2 个挑战 共 4 个挑战: 不用 Effect 缓存计算结果"}),(0,l.jsx)(T,{}),(0,l.jsx)("p",{children:"第 3 个挑战 共 4 个挑战: 不用 Effect 重置 state"}),(0,l.jsx)(X,{}),(0,l.jsx)("p",{children:"第 4 个挑战 共 4 个挑战: 不用 Effect 提交表单"}),(0,l.jsx)(N,{})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("hr",{style:{margin:"1rem 0"}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{style:s.X_,children:"响应式 Effect 的生命周期"}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/lifecycle-of-reactive-effects#challenges",children:"尝试一些挑战"})}),(0,l.jsx)("p",{children:"第 1 个挑战 共 5 个挑战: 修复每次输入均重新连接"}),(0,l.jsx)(A,{}),(0,l.jsx)("p",{children:"第 2 个挑战 共 5 个挑战: 打开和关闭状态同步"}),(0,l.jsx)(L,{}),(0,l.jsx)("p",{children:"第 3 个挑战 共 5 个挑战: 寻找过时值的错误"}),(0,l.jsx)(B,{}),(0,l.jsx)("p",{children:"第 4 个挑战 共 5 个挑战: 修复连接开关"}),(0,l.jsx)(Y,{}),(0,l.jsx)("p",{children:"第 5 个挑战 共 5 个挑战: 填充一系列选择框"}),(0,l.jsx)(G,{})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("hr",{style:{margin:"1rem 0"}}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{style:s.X_,children:"将事件从 Effect 中分开"}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{target:"_blank",href:"https://zh-hans.react.dev/learn/separating-events-from-effects#challenges",children:"尝试一些挑战"})}),(0,l.jsx)("p",{children:"第 1 个挑战 共 4 个挑战: 修复一个不更新的变量"}),(0,l.jsx)($,{}),(0,l.jsx)("p",{children:"第 2 个挑战 共 4 个挑战: 修复一个冻结的计数器"}),(0,l.jsx)(ee,{}),(0,l.jsx)("p",{children:"第 3 个挑战 共 4 个挑战: 修复不可调整的延迟"}),(0,l.jsx)(et,{}),(0,l.jsx)("p",{children:"第 4 个挑战 共 4 个挑战: 修复延迟通知"})]})]})]})}},9771:(e,t,n)=>{"use strict";n.d(t,{RH:()=>r,X_:()=>l,qK:()=>s});let l={fontSize:"1.5rem",fontWeight:"bold"},s={border:"1px solid gray",borderRadius:"0.5rem",padding:"0.5rem"},r={backgroundColor:"gray"}},4691:(e,t,n)=>{"use strict";n.d(t,{DE:()=>a,Ff:()=>p,Jf:()=>d,Mv:()=>u,RJ:()=>h,RK:()=>x,dt:()=>m,dv:()=>i,m7:()=>c,r7:()=>f,rF:()=>o,zw:()=>j});var l=n(8756),s=n(7318);let r="https://www.takeseem.com",i="https://github.com/takeseem/demo-react",c=i+"/tree/main",a=i+"/commits/main",d=i+"/blame/main",o={id:"game-ttt",name:"井字棋游戏",desc:"本项目来自于 React 官方快速入门教程：井字棋游戏。本教程将引导你逐步实现一个简单的井字棋游戏，并且不需要你对 React 有任何了解。在此过程中你会学习到一些编写 React 程序的基本知识，完全理解它们可以让你对 React 有比较深入的理解。",href:"/demo/game-ttt",icon:l.CYF,pagePath:"/app/demo/game-ttt/page.tsx",link:"https://zh-hans.react.dev/learn/tutorial-tic-tac-toe"},u={id:"react-think",name:"React 哲学",desc:"本项目来自于 React 官方文档：React 哲学。",href:"/demo/react-think",icon:l.GQu,pagePath:"/app/demo/react-think/page.tsx",link:"".concat(r,"/code/fe/react/react-think.html")},h={id:"react-typescript",name:"使用 TypeScript",desc:"TypeScript 是一种向 JavaScript 代码添加类型定义的常用方法，天然支持 JSX。",href:"/demo/react-typescript",icon:l.COT,pagePath:"/app/demo/react-typescript/page.tsx",link:"https://zh-hans.react.dev/learn/typescript"},x={id:"react-jsx",name:"描述 UI",desc:"React 是一个用于构建用户界面（UI）的 JavaScript 库，用户界面由按钮、文本和图像等小单元内容构建而成。React 帮助你把它们组合成可重用、可嵌套的 组件。从 web 端网站到移动端应用，屏幕上的所有内容都可以被分解成组件。在本章节中，你将学习如何创建、定制以及有条件地显示 React 组件。",href:"/demo/react-jsx",icon:s.wgI,pagePath:"/app/demo/react-jsx/page.tsx",link:"".concat(r,"/code/fe/react/react-learn-01-ui.html")},j={id:"react-add-inter",name:"React 交互",desc:"界面上的控件会根据用户的输入而更新。例如，点击按钮切换轮播图的展示。在 React 中，随时间变化的数据被称为状态（state）。你可以向任何组件添加状态，并按需进行更新。在本章节中，你将学习如何编写处理交互的组件，更新它们的状态，并根据时间变化显示不同的效果。",href:"/demo/react-add-inter",icon:l.Z8x,pagePath:"/app/demo/react-add-inter/page.tsx",link:"".concat(r,"/code/fe/react/react-learn-02-add-inter.html")},f={id:"react-state",name:"React 状态管理",desc:"随着你的应用不断变大，更有意识的去关注应用状态如何组织，以及数据如何在组件之间流动会对你很有帮助。冗余或重复的状态往往是缺陷的根源。在本节中，你将学习如何组织好状态，如何保持状态更新逻辑的可维护性，以及如何跨组件共享状态。",href:"/demo/react-state",icon:l.H37,pagePath:"/app/demo/react-state/page.tsx",link:"".concat(r,"/code/fe/react/react-learn-03-state.html")},p={id:"react-escape",name:"React 脱围机制",desc:"Escape Hatches：有些组件可能需要控制和同步 React 之外的系统。例如，你可能需要使用浏览器 API 聚焦输入框，或者在没有 React 的情况下实现视频播放器，或者连接并监听远程服务器的消息。在本章中，你将学习到一些脱围机制，让你可以“走出” React 并连接到外部系统。大多数应用逻辑和数据流不应该依赖这些功能。",href:"/demo/react-escape",icon:l.H37,pagePath:"/app/demo/react-escape/page.tsx",link:"".concat(r,"/code/fe/react/react-learn-04-escape.html")},m=[o,u,h,x,j,f,p]},2130:(e,t,n)=>{"use strict";n.d(t,{J:()=>d});var l=n(3528),s=n(4691),r=n(7318),i=n(8756),c=n(8239),a=n(7369);function d(e){let{project:t}=e;return(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsxs)(a.default,{href:t.link,target:"_blank",children:[(0,l.jsx)(c.g,{icon:t.icon,className:"rotate-[15deg]"})," ",t.name]}),(0,l.jsx)("div",{className:"p-4 max-w-md",children:t.desc}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{children:(0,l.jsxs)(a.default,{href:s.m7+t.pagePath,target:"_blank",children:[(0,l.jsx)(c.g,{icon:r.Vz1})," ","源码：",(0,l.jsx)("code",{children:t.pagePath})]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(a.default,{href:s.Jf+t.pagePath,target:"_blank",children:[(0,l.jsx)(c.g,{icon:r.FyU})," ","Blame"]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(a.default,{href:s.DE+t.pagePath,target:"_blank",children:[(0,l.jsx)(c.g,{icon:i.Yj9})," ","提交记录"]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[263,203,208,27,465,743,358],()=>t(9719)),_N_E=e.O()}]);